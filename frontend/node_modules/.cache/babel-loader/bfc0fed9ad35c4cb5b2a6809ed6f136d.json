{"ast":null,"code":"var _jsxFileName = \"/home/guilherme/Documentos/ironhack/proyecto-final/frontend/src/components/home/Pedido.js\";\nimport React from 'react';\nimport Axios from 'axios';\nimport { Form, DatePicker, TimePicker, Card } from 'antd';\nimport 'antd/dist/antd.css';\nimport { pedidoService } from '../../services/post-date';\nimport PLACE_SERVICE from '../../services/post-place';\nconst baseURL = process.env.NODE_ENV === 'production' ? 'aqui va lo de production' : 'http://localhost:3000/api';\n\nclass Pedido extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      pedido: {\n        fecha: '',\n        hora: ''\n      },\n      unplan: {},\n      user: {}\n    };\n\n    this.handleInput = e => {\n      const user = this.state.user;\n      const key = e.target.name;\n      user[key] = e.target.value;\n      this.setState({\n        user\n      });\n      console.log(this.state.user);\n      console.log(e.target.name);\n    };\n\n    this.dateOnChange = (date, dateString) => {\n      console.log(dateString);\n      let pedido = this.state.pedido;\n      pedido['fecha'] = dateString;\n      this.setState({\n        pedido\n      });\n    };\n\n    this.timeOnChange = (time, timeString) => {\n      console.log(timeString);\n      let pedido = this.state.pedido;\n      pedido['hora'] = timeString;\n      this.setState({\n        pedido\n      });\n    };\n\n    this.handleInput = e => {\n      console.log(e.target);\n      const pedido = this.state.pedido;\n      const key = e.target.name;\n      pedido[key] = e.target.value;\n      this.setState({\n        pedido\n      });\n    };\n\n    this.handleChange = value => {\n      let post = this.state.post;\n      post['mediaType'] = value;\n      this.setState({\n        post\n      }); //console.log(`selected ${value}`);\n      //this.setState({ post });\n      //this.setState({post: {mediaType: value}})\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      const fd = new FormData();\n      fd.append('mediaPath', this.state.mediaPath);\n\n      for (const key in this.state.pedido) {\n        fd.append(key, this.state.pedido[key]);\n      }\n\n      console.log(this.state.pedido);\n      PLACE_SERVICE.onSendDate(fd).then(e => {\n        console.log(this.state.pedido);\n        console.log('data sent to backend, todo cool, todo chido...');\n        this.props.history.push('/pedidoCreate');\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n  }\n\n  componentDidMount() {\n    Axios.get(\"\".concat(baseURL, \"/selectedPlan/\").concat(this.props.match.params.id)).then(({\n      data\n    }) => {\n      this.setState({\n        unplan: data.plan\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    const unplan = this.state.unplan;\n    const dateFormatList = ['DD/MM/YYYY', 'DD/MM/YY'];\n    if (!unplan) return React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Loading data...\");\n    return React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        marginTop: '3vw',\n        justifyContent: 'space-around'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(Card, {\n      style: {\n        width: 300,\n        height: '400px',\n        backgroundImage: \"url(\".concat(unplan.image, \")\"),\n        color: 'white',\n        backgroundPosition: 'center'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"pedido-plan\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        fontSize: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }, unplan.name), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"Price:\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }), unplan.price), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }, \"Type:\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    }), unplan.role), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, unplan.description)))), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, unplan.name), React.createElement(Form, {\n      onSubmit: this.onSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      name: \"fecha\",\n      label: \"DatePicker\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(DatePicker, {\n      name: \"fecha\",\n      onChange: this.dateOnChange,\n      format: dateFormatList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    })), React.createElement(Form.Item, {\n      name: \"hora\",\n      label: \"TimePicker\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }, React.createElement(TimePicker, {\n      name: \"hora\",\n      onChange: this.timeOnChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default Pedido;","map":{"version":3,"sources":["/home/guilherme/Documentos/ironhack/proyecto-final/frontend/src/components/home/Pedido.js"],"names":["React","Axios","Form","DatePicker","TimePicker","Card","pedidoService","PLACE_SERVICE","baseURL","process","env","NODE_ENV","Pedido","Component","state","pedido","fecha","hora","unplan","user","handleInput","e","key","target","name","value","setState","console","log","dateOnChange","date","dateString","timeOnChange","time","timeString","handleChange","post","onSubmit","preventDefault","fd","FormData","append","mediaPath","onSendDate","then","props","history","push","catch","error","componentDidMount","get","match","params","id","data","plan","err","render","dateFormatList","display","marginTop","justifyContent","width","height","backgroundImage","image","color","backgroundPosition","fontSize","price","role","description"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Axios from 'axios'\nimport { Form, DatePicker, TimePicker, Card } from 'antd';\nimport 'antd/dist/antd.css'\nimport  { pedidoService } from '../../services/post-date'\nimport PLACE_SERVICE from '../../services/post-place'\n\n\n\nconst baseURL = process.env.NODE_ENV === 'production'\n  ? 'aqui va lo de production'\n  :  'http://localhost:3000/api'\n\n  class Pedido extends React.Component{\n    state ={\n      pedido:{\n        fecha:'',\n        hora:''\n      },\n      unplan:{},\n      user:{}\n    }\n    handleInput = e => {\n      const { user } = this.state\n      const key = e.target.name\n      user[key] = e.target.value\n      this.setState({ user })\n      console.log(this.state.user)\n      console.log(e.target.name)\n    }\n  \n\n    //Datepicker method\n  dateOnChange = (date, dateString) => {\n    console.log(dateString);\n    let {pedido}= this.state\n    pedido['fecha']=dateString\n    this.setState({pedido})\n  }\n  //Timepicker methods\n  timeOnChange = (time, timeString) => {\n    console.log(timeString);\n    let {pedido}= this.state\n    pedido['hora']=timeString\n    this.setState({pedido})\n  }\n\n\n   // onSubmit = e => {\n     // e.preventDefault()\n      //let{user} = this.state\n      //console.log('onsubmit', user)\n      //pedidoService(user)\n      //.then(res => console.log('la respuesta en onsubment', res))\n\n      //.catch(err => console.log('el error en onsubmit', err))\n    //}\n    handleInput = (e) => {\n      console.log(e.target)\n      const { pedido } = this.state;\n      const key = e.target.name;\n      pedido[key] = e.target.value;\n      this.setState({ pedido });\n    };\n    //Selector methods// WORKING\n    handleChange = (value) => {\n      let {post}= this.state\n      post['mediaType']=value\n      this.setState({post})\n        \n      //console.log(`selected ${value}`);\n      //this.setState({ post });\n      //this.setState({post: {mediaType: value}})\n    }\n  \n\n    onSubmit = (e) => {\n      e.preventDefault();\n      const fd = new FormData()\n          fd.append('mediaPath', this.state.mediaPath)\n          for(const key in this.state.pedido){\n            fd.append(key, this.state.pedido[key])\n          }\n      console.log(this.state.pedido)\n      PLACE_SERVICE.onSendDate(fd)\n        .then((e) => {\n          console.log(this.state.pedido)\n          console.log('data sent to backend, todo cool, todo chido...')\n          this.props.history.push('/pedidoCreate');\n        })\n        .catch((error) => {\n          console.log(error);\n        });\n      \n    };\n\n     \n    componentDidMount() {\n      Axios.get(`${baseURL}/selectedPlan/${this.props.match.params.id}`)\n        .then(({ data }) => {\n          this.setState({\n            unplan: data.plan\n          })\n        })\n        .catch(err => {\n          console.log(err)\n        })\n    \n    }\n\n        \n          render() {\n            const { unplan } = this.state\n            const dateFormatList = ['DD/MM/YYYY', 'DD/MM/YY'];\n    if (!unplan) return <p>Loading data...</p>\n            return (\n              <div style={{ display: 'flex', marginTop: '3vw', justifyContent: 'space-around' }}>\n        <Card style={{ width: 300, height:'400px', backgroundImage: `url(${unplan.image})`, color:'white', backgroundPosition:'center' }}>\n          <div className='pedido-plan'>\n            <div style={{fontSize:'20px'}}>\n          <p>{unplan.name}</p>\n         \n          <p>Price:<br/>{unplan.price}</p>\n          \n          <p>Type:<br/>{unplan.role}</p>\n          <p>{unplan.description}</p>\n          </div>\n          </div>\n         \n        </Card>\n        <p>{unplan.name}</p>\n              \n        <Form onSubmit={this.onSubmit}>\n              <Form.Item name=\"fecha\" label=\"DatePicker\">\n          <DatePicker name=\"fecha\" onChange={this.dateOnChange} format={dateFormatList}/>\n        </Form.Item>\n        <Form.Item name=\"hora\" label=\"TimePicker\">\n        <TimePicker name=\"hora\" onChange={this.timeOnChange} />\n      </Form.Item>\n      </Form>\n      </div>\n            );\n          }\n        }\n      \n     export default Pedido"]},"metadata":{},"sourceType":"module"}