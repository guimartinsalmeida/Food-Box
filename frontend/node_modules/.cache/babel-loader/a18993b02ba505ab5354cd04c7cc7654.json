{"ast":null,"code":"import _classCallCheck from\"/home/guilherme/Documentos/ironhack/proyecto-final/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/guilherme/Documentos/ironhack/proyecto-final/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/guilherme/Documentos/ironhack/proyecto-final/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/guilherme/Documentos/ironhack/proyecto-final/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/home/guilherme/Documentos/ironhack/proyecto-final/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Card,Input,Form}from'antd';import AUTH_SERVICE from'../../services/index';import{MyContext}from'../../context';var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);function Login(){var _getPrototypeOf2;var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Login)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={user:{}};_this.handleInput=function(e){var user=_this.state.user;var key=e.target.name;user[key]=e.target.value;_this.setState({user:user});};_this.onSubmit=function(e){e.preventDefault();AUTH_SERVICE.login(_this.state.user).then(function(response){localStorage.setItem('user',JSON.stringify(response.data.user));//this.context.logUser(response.data.user)\nvar plan=JSON.parse(localStorage.getItem('plan'));_this.props.history.push(\"/places/\".concat(plan));}).catch(function(error){console.log(error);});};return _this;}_createClass(Login,[{key:\"render\",value:function render(){return React.createElement(\"div\",{style:{display:'flex',alignItems:'center',justifyContent:'center',flexDirection:'column',width:'100vw',height:'100vh'}},React.createElement(\"h2\",null,\"Login\"),React.createElement(Card,{style:{width:'50vw'}},React.createElement(Form,{onSubmit:this.onSubmit},React.createElement(Form.Item,null,React.createElement(Input,{onChange:this.handleInput,type:\"email\",name:\"email\",placeholder:\"Email\"})),React.createElement(Form.Item,null,React.createElement(Input,{onChange:this.handleInput,type:\"password\",name:\"password\",placeholder:\"Password\"})),React.createElement(Form.Item,null,React.createElement(Input,{type:\"submit\",value:\"Login\"}))),React.createElement(\"a\",{href:\"/signup\"},React.createElement(\"button\",null,\"vete a hacer signup\"))));}}]);return Login;}(Component);Login.contextType=MyContext;export default Login;","map":{"version":3,"sources":["/home/guilherme/Documentos/ironhack/proyecto-final/frontend/src/components/home/Login.js"],"names":["React","Component","Card","Input","Form","AUTH_SERVICE","MyContext","Login","state","user","handleInput","e","key","target","name","value","setState","onSubmit","preventDefault","login","then","response","localStorage","setItem","JSON","stringify","data","plan","parse","getItem","props","history","push","catch","error","console","log","display","alignItems","justifyContent","flexDirection","width","height","contextType"],"mappings":"w4BAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,OAASC,IAAT,CAAeC,KAAf,CAAsBC,IAAtB,KAAkC,MAAlC,CACA,MAAOC,CAAAA,YAAP,KAAyB,sBAAzB,CACA,OAASC,SAAT,KAA0B,eAA1B,C,GAEMC,CAAAA,K,2XACJC,K,CAAQ,CACNC,IAAI,CAAE,EADA,C,OAIRC,W,CAAc,SAAAC,CAAC,CAAI,IACTF,CAAAA,IADS,CACA,MAAKD,KADL,CACTC,IADS,CAEjB,GAAMG,CAAAA,GAAG,CAAGD,CAAC,CAACE,MAAF,CAASC,IAArB,CACAL,IAAI,CAACG,GAAD,CAAJ,CAAYD,CAAC,CAACE,MAAF,CAASE,KAArB,CACA,MAAKC,QAAL,CAAc,CAAEP,IAAI,CAAJA,IAAF,CAAd,EACD,C,OAEDQ,Q,CAAW,SAAAN,CAAC,CAAI,CACdA,CAAC,CAACO,cAAF,GACAb,YAAY,CAACc,KAAb,CAAmB,MAAKX,KAAL,CAAWC,IAA9B,EACGW,IADH,CACQ,SAAAC,QAAQ,CAAI,CAChBC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAA6BC,IAAI,CAACC,SAAL,CAAeJ,QAAQ,CAACK,IAAT,CAAcjB,IAA7B,CAA7B,EACA;AACA,GAAIkB,CAAAA,IAAI,CAAGH,IAAI,CAACI,KAAL,CAAWN,YAAY,CAACO,OAAb,CAAqB,MAArB,CAAX,CAAX,CACA,MAAKC,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,mBAAmCL,IAAnC,GACD,CANH,EAOGM,KAPH,CAOS,SAAAC,KAAK,CAAI,CACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CATH,EAUD,C,wEAEQ,CACP,MACE,4BACE,KAAK,CAAE,CACLG,OAAO,CAAE,MADJ,CAELC,UAAU,CAAE,QAFP,CAGLC,cAAc,CAAE,QAHX,CAILC,aAAa,CAAE,QAJV,CAKLC,KAAK,CAAE,OALF,CAMLC,MAAM,CAAE,OANH,CADT,EAUE,sCAVF,CAWE,oBAAC,IAAD,EAAM,KAAK,CAAE,CAAED,KAAK,CAAE,MAAT,CAAb,EACE,oBAAC,IAAD,EAAM,QAAQ,CAAE,KAAKxB,QAArB,EACE,oBAAC,IAAD,CAAM,IAAN,MACE,oBAAC,KAAD,EAAO,QAAQ,CAAE,KAAKP,WAAtB,CAAmC,IAAI,CAAC,OAAxC,CAAgD,IAAI,CAAC,OAArD,CAA6D,WAAW,CAAC,OAAzE,EADF,CADF,CAIE,oBAAC,IAAD,CAAM,IAAN,MACE,oBAAC,KAAD,EAAO,QAAQ,CAAE,KAAKA,WAAtB,CAAmC,IAAI,CAAC,UAAxC,CAAmD,IAAI,CAAC,UAAxD,CAAmE,WAAW,CAAC,UAA/E,EADF,CAJF,CAOE,oBAAC,IAAD,CAAM,IAAN,MACE,oBAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,OAA3B,EADF,CAPF,CADF,CAaE,yBAAG,IAAI,CAAC,SAAR,EACG,wDADH,CAbF,CAXF,CADF,CAgCD,C,mBA3DiBT,S,EA8DpBM,KAAK,CAACoC,WAAN,CAAoBrC,SAApB,CAEA,cAAeC,CAAAA,KAAf","sourcesContent":["import React, { Component } from 'react'\nimport { Card, Input, Form } from 'antd'\nimport AUTH_SERVICE from '../../services/index'\nimport { MyContext } from '../../context'\n\nclass Login extends Component {\n  state = {\n    user: {}\n  }\n\n  handleInput = e => {\n    const { user } = this.state\n    const key = e.target.name\n    user[key] = e.target.value\n    this.setState({ user })\n  }\n\n  onSubmit = e => {\n    e.preventDefault()\n    AUTH_SERVICE.login(this.state.user)\n      .then(response => {\n        localStorage.setItem('user', JSON.stringify(response.data.user))\n        //this.context.logUser(response.data.user)\n        let plan = JSON.parse(localStorage.getItem('plan'))\n        this.props.history.push(`/places/${plan}`)\n      })\n      .catch(error => {\n        console.log(error)\n      })\n  }\n\n  render() {\n    return (\n      <div\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          justifyContent: 'center',\n          flexDirection: 'column',\n          width: '100vw',\n          height: '100vh'\n        }}\n      >\n        <h2>Login</h2>\n        <Card style={{ width: '50vw' }}>\n          <Form onSubmit={this.onSubmit}>\n            <Form.Item>\n              <Input onChange={this.handleInput} type=\"email\" name=\"email\" placeholder=\"Email\" />\n            </Form.Item>\n            <Form.Item>\n              <Input onChange={this.handleInput} type=\"password\" name=\"password\" placeholder=\"Password\" />\n            </Form.Item>\n            <Form.Item>\n              <Input type=\"submit\" value=\"Login\" />\n            </Form.Item>\n           \n          </Form>\n          <a href=\"/signup\">\n             <button>vete a hacer signup</button>\n           </a>\n        </Card>\n        \n      </div>\n    )\n  }\n}\n\nLogin.contextType = MyContext\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}