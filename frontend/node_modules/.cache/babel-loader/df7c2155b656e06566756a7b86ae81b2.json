{"ast":null,"code":"var _jsxFileName = \"/home/guilherme/Documentos/ironhack/proyecto-final/frontend/src/components/home/Place.js\";\nimport React from 'react';\nimport Axios from 'axios';\nimport { Form, Icon, Input, Card } from 'antd';\nimport { Link } from 'react-router-dom';\nimport { Layout, Menu, Breadcrumb } from 'antd';\nimport 'antd/dist/antd.css';\nimport PLACE_SERVICE, { placeService } from '../../services/post-place';\nimport AUTH_SERVICE from '../../services';\nconst Header = Layout.Header,\n      Content = Layout.Content;\nconst baseURL = process.env.NODE_ENV === 'production' ? 'aqui va lo de production' : 'http://localhost:3000/api';\n\nclass Place extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      unplan: {},\n      user: {},\n      places: [],\n      lugar: undefined\n    };\n\n    this.handleInput = e => {\n      const user = this.state.user;\n      const key = e.target.name;\n      user[key] = e.target.value;\n      this.setState({\n        user\n      });\n      console.log(this.state.user);\n      console.log(e.target.name);\n    };\n\n    this.onDelete = async (id, index) => {\n      let places = this.state.places;\n      await PLACE_SERVICE.onDelete(id);\n      places.splice(index, 1);\n      this.setState({\n        places\n      });\n    };\n\n    this.onLogout = async () => {\n      await AUTH_SERVICE.logOut();\n      localStorage.clear();\n      this.props.history.push('/login');\n    };\n\n    this.onSubmit = e => {\n      e.preventDefault();\n      Axios.get(\"\".concat(baseURL, \"/places/\").concat(this.state.places.id)).then(({\n        data\n      }) => {\n        this.setState({\n          lugares: data.place,\n          lugar: React.createElement(Card, {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 69\n            },\n            __self: this\n          }, React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 70\n            },\n            __self: this\n          }, 'kjscbkja'), React.createElement(\"p\", {\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 71\n            },\n            __self: this\n          }, 'kajcbikjbc'))\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n      let user = this.state.user;\n      console.log('onsubmit', user);\n      placeService(user).then(res => {\n        let places = this.state.places;\n        places.push(res.place);\n        this.setState({\n          places\n        });\n      }).catch(err => console.log('el error en onsubmit', err));\n    };\n\n    this.cardPlace = () => {\n      const places = this.state.places;\n    };\n  }\n\n  componentDidMount() {\n    if (!localStorage.getItem('user')) return this.props.history.push('/login');\n    Axios.get(\"\".concat(baseURL, \"/selectedPlan/\").concat(this.props.match.params.id)).then(({\n      data\n    }) => {\n      this.setState({\n        unplan: data.plan\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n    PLACE_SERVICE.getPlace().then(res => {\n      this.setState({\n        places: res.data\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    const unplan = this.state.unplan;\n    const places = this.state.places;\n    if (!unplan) return React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, \"Loading data...\");\n    return React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'space-around'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(Layout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(Header, {\n      style: {\n        position: 'fixed',\n        zIndex: 1,\n        width: '100%'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(Menu, {\n      theme: \"dark\",\n      mode: \"horizontal\",\n      defaultSelectedKeys: ['2'],\n      style: {\n        lineHeight: '64px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(Menu.Item, {\n      key: \"3\",\n      onClick: this.onLogout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Log out\"))), React.createElement(Content, {\n      style: {\n        padding: '0 50px',\n        marginTop: 64\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(Breadcrumb, {\n      style: {\n        margin: '16px 0'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        background: '#fff',\n        padding: 24,\n        minHeight: 380,\n        display: 'flex',\n        justifyContent: 'space-around'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(Card, {\n      style: {\n        width: 300,\n        height: '400px',\n        backgroundPosition: 'center',\n        color: 'white',\n        backgroundImage: \"url(\".concat(unplan.image, \")\")\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"plan-place\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        fontSize: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, unplan.name), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"Precio:\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }), unplan.price), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, \"Tipo:\", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }), unplan.role), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, unplan.description)))), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, this.state.lugar), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, places.length ? places.map((place, i) => React.createElement(\"div\", {\n      key: i,\n      style: {\n        background: '#ECECEC',\n        padding: '30px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(Card, {\n      bordered: false,\n      style: {\n        width: 300\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, place.name), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, place.address), React.createElement(\"button\", {\n      type: \"delete\",\n      id: place.id,\n      key: \"delete\",\n      onClick: () => this.onDelete(place._id, i),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"delete\"), React.createElement(Link, {\n      to: \"/edit/\".concat(place._id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, ' ', React.createElement(\"button\", {\n      type: \"edit\",\n      id: place.id,\n      key: \"edit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"Edit\"), ' ')))) : React.createElement(\"div\", {\n      className: \"span\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }, \"Por favor, pongan una direccion para que podamos enviar tu plan escojido\")))), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, unplan.name), React.createElement(Form, {\n      onSubmit: this.onSubmit,\n      className: \"login-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(Input, {\n      onChange: this.handleInput,\n      name: \"name\",\n      prefix: React.createElement(Icon, {\n        type: \"user\",\n        style: {\n          color: 'rgba(0,0,0,.25)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }),\n      placeholder: \"Address name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    })), React.createElement(Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(Input, {\n      onChange: this.handleInput,\n      name: \"address\",\n      prefix: React.createElement(Icon, {\n        type: \"user\",\n        style: {\n          color: 'rgba(0,0,0,.25)'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }),\n      placeholder: \"Put your address here\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }), React.createElement(Form.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(Input, {\n      type: \"submit\",\n      value: \"Submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }))))))));\n  }\n\n}\n\nexport default Place;","map":{"version":3,"sources":["/home/guilherme/Documentos/ironhack/proyecto-final/frontend/src/components/home/Place.js"],"names":["React","Axios","Form","Icon","Input","Card","Link","Layout","Menu","Breadcrumb","PLACE_SERVICE","placeService","AUTH_SERVICE","Header","Content","baseURL","process","env","NODE_ENV","Place","Component","state","unplan","user","places","lugar","undefined","handleInput","e","key","target","name","value","setState","console","log","onDelete","id","index","splice","onLogout","logOut","localStorage","clear","props","history","push","onSubmit","preventDefault","get","then","data","lugares","place","catch","err","res","cardPlace","componentDidMount","getItem","match","params","plan","getPlace","render","display","justifyContent","position","zIndex","width","lineHeight","padding","marginTop","margin","background","minHeight","height","backgroundPosition","color","backgroundImage","image","fontSize","price","role","description","length","map","i","address","_id"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Axios from 'axios'\nimport { Form, Icon, Input, Card } from 'antd'\nimport { Link } from 'react-router-dom'\nimport { Layout, Menu, Breadcrumb } from 'antd'\nimport 'antd/dist/antd.css'\nimport PLACE_SERVICE, { placeService } from '../../services/post-place'\nimport AUTH_SERVICE from '../../services'\nconst { Header, Content } = Layout\n\nconst baseURL = process.env.NODE_ENV === 'production' ? 'aqui va lo de production' : 'http://localhost:3000/api'\n\nclass Place extends React.Component {\n  state = {\n    unplan: {},\n    user: {},\n    places: [],\n    lugar: undefined\n  }\n  componentDidMount() {\n    if (!localStorage.getItem('user')) return this.props.history.push('/login')\n    Axios.get(`${baseURL}/selectedPlan/${this.props.match.params.id}`)\n      .then(({ data }) => {\n        this.setState({\n          unplan: data.plan\n        })\n      })\n      .catch(err => {\n        console.log(err)\n      })\n\n    PLACE_SERVICE.getPlace()\n      .then(res => {\n        this.setState({ places: res.data })\n      })\n      .catch(err => {\n        console.log(err)\n      })\n  }\n  handleInput = e => {\n    const { user } = this.state\n    const key = e.target.name\n    user[key] = e.target.value\n    this.setState({ user })\n    console.log(this.state.user)\n    console.log(e.target.name)\n  }\n\n  onDelete = async (id, index) => {\n    let { places } = this.state\n    await PLACE_SERVICE.onDelete(id)\n    places.splice(index, 1)\n    this.setState({ places })\n  }\n\n  onLogout = async () => {\n    await AUTH_SERVICE.logOut()\n    localStorage.clear()\n    this.props.history.push('/login')\n  }\n\n  onSubmit = e => {\n    e.preventDefault()\n    Axios.get(`${baseURL}/places/${this.state.places.id}`)\n      .then(({ data }) => {\n        this.setState({\n          lugares: data.place,\n          lugar: (\n            <Card>\n              <p>{'kjscbkja'}</p>\n              <p>{'kajcbikjbc'}</p>\n            </Card>\n          )\n        })\n      })\n      .catch(err => {\n        console.log(err)\n      })\n\n    let { user } = this.state\n    console.log('onsubmit', user)\n    placeService(user)\n      .then(res => {\n        let { places } = this.state\n        places.push(res.place)\n        this.setState({\n          places\n        })\n      })\n\n      .catch(err => console.log('el error en onsubmit', err))\n  }\n\n  cardPlace = () => {\n    const { places } = this.state\n  }\n\n  render() {\n    const { unplan } = this.state\n    const { places } = this.state\n    if (!unplan) return <p>Loading data...</p>\n    return (\n      <div style={{ display: 'flex', justifyContent: 'space-around' }}>\n        <Layout>\n          <Header style={{ position: 'fixed', zIndex: 1, width: '100%' }}>\n            <Menu theme=\"dark\" mode=\"horizontal\" defaultSelectedKeys={['2']} style={{ lineHeight: '64px' }}>\n              <Menu.Item key=\"3\" onClick={this.onLogout}>\n                Log out\n              </Menu.Item>\n            </Menu>\n          </Header>\n          <Content style={{ padding: '0 50px', marginTop: 64 }}>\n            <Breadcrumb style={{ margin: '16px 0' }}></Breadcrumb>\n            <div>\n              <div\n                style={{\n                  background: '#fff',\n                  padding: 24,\n                  minHeight: 380,\n                  display: 'flex',\n                  justifyContent: 'space-around'\n                }}\n              >\n                <Card\n                  style={{\n                    width: 300,\n                    height: '400px',\n                    backgroundPosition: 'center',\n                    color: 'white',\n                    backgroundImage: `url(${unplan.image})`\n                  }}\n                >\n                  <div className=\"plan-place\">\n                    <div style={{ fontSize: '20px' }}>\n                      <p>{unplan.name}</p>\n                      <p>\n                        Precio:<br></br>\n                        {unplan.price}\n                      </p>\n                      <p>\n                        Tipo:<br></br>\n                        {unplan.role}\n                      </p>\n                      <p>{unplan.description}</p>\n                    </div>\n                  </div>\n                </Card>\n                <div>{this.state.lugar}</div>\n                <div>\n                  {places.length ? (\n                    places.map((place, i) => (\n                      <div key={i} style={{ background: '#ECECEC', padding: '30px' }}>\n                        <Card bordered={false} style={{ width: 300 }}>\n                          <p>{place.name}</p>\n                          <p>{place.address}</p>\n                          <button type=\"delete\" id={place.id} key=\"delete\" onClick={() => this.onDelete(place._id, i)}>\n                            delete\n                          </button>\n                          <Link to={`/edit/${place._id}`}>\n                            {' '}\n                            <button type=\"edit\" id={place.id} key=\"edit\">\n                              Edit\n                            </button>{' '}\n                          </Link>\n                        </Card>\n                      </div>\n                    ))\n                  ) : (\n                    <div className=\"span\">\n                      <span>Por favor, pongan una direccion para que podamos enviar tu plan escojido</span>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              <p>{unplan.name}</p>\n              <Form onSubmit={this.onSubmit} className=\"login-form\">\n                <Form.Item>\n                  <Input\n                    onChange={this.handleInput}\n                    name=\"name\"\n                    prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                    placeholder=\"Address name\"\n                  />\n                </Form.Item>\n                <Form.Item>\n                  <Input\n                    onChange={this.handleInput}\n                    name=\"address\"\n                    prefix={<Icon type=\"user\" style={{ color: 'rgba(0,0,0,.25)' }} />}\n                    placeholder=\"Put your address here\"\n                  />\n                  <Form.Item>\n                    <Input type=\"submit\" value=\"Submit\" />\n                  </Form.Item>\n                </Form.Item>\n              </Form>\n            </div>\n          </Content>\n        </Layout>\n      </div>\n    )\n  }\n}\n\nexport default Place\n"]},"metadata":{},"sourceType":"module"}